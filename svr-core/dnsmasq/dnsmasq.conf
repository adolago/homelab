# dnsmasq configuration for homelab
# Serves .home.arpa domains
#
# CUSTOMIZE: Replace 192.168.1.x with your network IPs

# Don't use /etc/hosts
no-hosts

# Forward all other queries to upstream DNS (router)
server=192.168.1.1  # Your router IP

# Never forward plain names (without a dot)
domain-needed

# Never forward addresses in the non-routed address spaces
bogus-priv

# Local domain
local=/home.arpa/

# .home.arpa domain entries - all point to services VM
# CUSTOMIZE: Update with your services VM IP
address=/portainer.home.arpa/192.168.1.10
address=/grafana.home.arpa/192.168.1.10
address=/prometheus.home.arpa/192.168.1.10
address=/cadvisor.home.arpa/192.168.1.10
address=/immich.home.arpa/192.168.1.10
address=/photos.home.arpa/192.168.1.10
address=/jellyfin.home.arpa/192.168.1.10
address=/media.home.arpa/192.168.1.10
address=/chat.home.arpa/192.168.1.10
address=/llm.home.arpa/192.168.1.10
address=/vllm.home.arpa/192.168.1.10

# Proxmox and TrueNAS (proxied through Caddy on services VM)
address=/proxmox.home.arpa/192.168.1.10
address=/pve.home.arpa/192.168.1.10
address=/nas.home.arpa/192.168.1.10
address=/truenas.home.arpa/192.168.1.10

# Home Assistant
address=/ha.home.arpa/192.168.1.10
address=/homeassistant.home.arpa/192.168.1.10

# Wildcard for any other .home.arpa to services VM
address=/.home.arpa/192.168.1.10

# DNS admin UI
address=/dns.home.arpa/192.168.1.10

# Logging
log-queries
log-facility=/var/log/dnsmasq.log

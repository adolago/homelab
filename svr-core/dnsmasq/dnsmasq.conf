# dnsmasq configuration for homelab
# Serves .home.arpa domains

# Don't use /etc/hosts
no-hosts

# Forward all other queries to upstream DNS (router)
server=192.168.178.1

# Never forward plain names (without a dot)
domain-needed

# Never forward addresses in the non-routed address spaces
bogus-priv

# Local domain
local=/home.arpa/

# .home.arpa domain entries - all point to svr-core
# Update 192.168.178.102 with your svr-core IP
address=/portainer.home.arpa/192.168.178.102
address=/grafana.home.arpa/192.168.178.102
address=/prometheus.home.arpa/192.168.178.102
address=/cadvisor.home.arpa/192.168.178.102
address=/immich.home.arpa/192.168.178.102
address=/photos.home.arpa/192.168.178.102
address=/jellyfin.home.arpa/192.168.178.102
address=/media.home.arpa/192.168.178.102
address=/chat.home.arpa/192.168.178.102
address=/llm.home.arpa/192.168.178.102
address=/vllm.home.arpa/192.168.178.102

# Proxmox and TrueNAS (proxied through Caddy on svr-core)
address=/proxmox.home.arpa/192.168.178.102
address=/pve.home.arpa/192.168.178.102
address=/nas.home.arpa/192.168.178.102
address=/truenas.home.arpa/192.168.178.102

# Home Assistant
address=/ha.home.arpa/192.168.178.102
address=/homeassistant.home.arpa/192.168.178.102

# Wildcard for any other .home.arpa to svr-core
address=/.home.arpa/192.168.178.102

# DNS admin UI
address=/dns.home.arpa/192.168.178.102

# Logging
log-queries
log-facility=/var/log/dnsmasq.log

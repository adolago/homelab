# Homelab Ansible Inventory
# All hosts use SSH key authentication
# Network: 192.168.x.0/24 (Router LAN)
# CUSTOMIZE: Replace placeholder IPs with your network addresses

all:
  vars:
    ansible_user: artur
    ansible_python_interpreter: /usr/bin/python3
    ansible_become: yes
    ansible_become_method: sudo

    # Common configuration
    timezone: Europe/Vienna
    ntp_servers:
      - 0.pool.ntp.org
      - 1.pool.ntp.org

    # DNS settings
    dns_server: "{{ hostvars['svr-core']['ansible_host'] }}"
    dns_domain: home.arpa

  children:
    workstations:
      hosts:
        wrk-main:
          ansible_host: WRK_MAIN_IP
          ansible_connection: local
          machine_role: admin
          backup_enabled: true
          backup_repo: /mnt/nas/Backups/wrk-main
        wrk-mob:
          ansible_host: WRK_MOB_IP
          ansible_user: artur
          machine_role: mobile
          backup_enabled: false

    hypervisors:
      hosts:
        svr-host:
          ansible_host: PROXMOX_IP
          machine_role: proxmox
          pve_version: "9.0"

    servers:
      hosts:
        svr-core:
          ansible_host: SERVICES_IP
          machine_role: docker
          gpu_passthrough: true
          docker_compose_dir: /home/artur/docker
        svr-nas:
          ansible_host: NAS_IP
          machine_role: storage
          zfs_pools:
            - StorageLake
        svr-dmz:
          ansible_host: ssh.adolago.xyz
          ansible_ssh_common_args: '-o ProxyCommand="cloudflared access ssh --hostname %h"'
          machine_role: dmz

    # Groups for specific tasks
    docker_hosts:
      hosts:
        svr-core:
        svr-dmz:

    monitoring_targets:
      hosts:
        svr-core:
        svr-nas:
        svr-host:

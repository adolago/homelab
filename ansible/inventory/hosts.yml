# Homelab Ansible Inventory
# All hosts use SSH key authentication
#
# CUSTOMIZE: Replace example IPs with your network configuration
# Example network: 192.168.1.0/24 (adjust to your subnet)

all:
  vars:
    ansible_user: "{{ lookup('env', 'ANSIBLE_USER') | default('admin', true) }}"
    ansible_python_interpreter: /usr/bin/python3
    ansible_become: yes
    ansible_become_method: sudo

    # Common configuration - customize for your location
    timezone: "{{ lookup('env', 'TZ') | default('UTC', true) }}"
    ntp_servers:
      - 0.pool.ntp.org
      - 1.pool.ntp.org

    # DNS settings - update with your services VM IP
    dns_server: "{{ hostvars['services']['ansible_host'] | default('192.168.1.10') }}"
    dns_domain: home.arpa

  children:
    workstations:
      hosts:
        desktop:
          ansible_host: 192.168.1.100  # Your desktop IP
          machine_role: admin
          backup_enabled: true
          backup_repo: /mnt/nas/Backups/desktop
        laptop:
          ansible_host: 192.168.1.101  # Your laptop IP
          machine_role: mobile
          backup_enabled: false

    hypervisors:
      hosts:
        hypervisor:
          ansible_host: 192.168.1.2  # Your Proxmox host IP
          machine_role: proxmox
          pve_version: "9.0"

    servers:
      hosts:
        services:
          ansible_host: 192.168.1.10  # Your services VM IP
          machine_role: docker
          gpu_passthrough: true
          docker_compose_dir: /home/admin/docker
        storage:
          ansible_host: 192.168.1.11  # Your NAS/TrueNAS IP
          ansible_user: "{{ lookup('env', 'ANSIBLE_USER') | default('admin', true) }}"
          machine_role: storage
          zfs_pools:
            - tank  # Your ZFS pool name
        dmz:
          ansible_host: dmz.example.com  # Your DMZ hostname or IP
          ansible_ssh_common_args: '-o ProxyCommand="cloudflared access ssh --hostname %h"'
          machine_role: dmz

    # Groups for specific tasks
    docker_hosts:
      hosts:
        services:
        dmz:

    monitoring_targets:
      hosts:
        services:
        storage:
        hypervisor:
